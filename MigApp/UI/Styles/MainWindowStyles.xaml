<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:windows="clr-namespace:System.Windows.Shell;assembly=PresentationFramework"
                    xmlns:controls="clr-namespace:MigApp.UI.Controls"
                    xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes">

    <!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->
    <!--                                   WINDOW                                       -->
    <!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->

    <Style x:Key="MainWindowStyle" 
           TargetType="Window" 
           BasedOn="{StaticResource WindowBaseStyle}">

        <Setter Property="MaxWidth" Value="{Binding Source={x:Static SystemParameters.MaximizedPrimaryScreenWidth}}"/>
        <Setter Property="MaxHeight" Value="{Binding Source={x:Static SystemParameters.MaximizedPrimaryScreenHeight}}"/>

        <Setter Property="Template" Value="{DynamicResource MainWindowTemplate}"/>
    </Style>

    <ControlTemplate x:Key="MainWindowTemplate" TargetType="Window">
        <Border Background="{DynamicResource TransparentBrush}" 
                        CornerRadius="{DynamicResource CornerRadiusLarge}" 
                        BorderThickness="1" BorderBrush="{DynamicResource WindowBorderBrush}">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <Border Grid.Row="0" 
                        Background="{DynamicResource Surface4Brush}" 
                        CornerRadius="{DynamicResource TopCornerRadiusLarge}" 
                        Height="{DynamicResource ControlHeightNormal}">
                    <controls:WindowHeaderControl HasIcon="True"
                                                  SubTitleText="{Binding SubtitleText, RelativeSource={RelativeSource AncestorType=Window}}"
                                                  TitleStyle="{DynamicResource WindowTitleText}" 
                                                  SubTitleStyle="{DynamicResource WindowSubtitleText}"/>
                </Border>

                <Border Grid.Row="1" CornerRadius="{DynamicResource BottomCornerRadiusLarge}">
                    <ContentPresenter Margin="0"/>
                </Border>
            </Grid>
        </Border>

        <ControlTemplate.Triggers>
            <Trigger Property="WindowState" Value="Maximized">
                <Setter Property="windows:WindowChrome.WindowChrome">
                    <Setter.Value>
                        <WindowChrome CaptionHeight="40"
                                              ResizeBorderThickness="0"
                                              CornerRadius="0"
                                              GlassFrameThickness="0"/>
                    </Setter.Value>
                </Setter>
            </Trigger>
        </ControlTemplate.Triggers>
    </ControlTemplate>

    <!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->
    <!--                               NAVIGATION MENU                                  -->
    <!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->

    <!-- Panel -->
    <Style x:Key="NavigationPanelStyle"
           TargetType="controls:MainNavigationPanel">
        <Setter Property="PanelCornerRadius" Value="0 0 0 10"/>
        <Setter Property="PanelBackground" Value="{DynamicResource Surface4Brush}"/>
        <Setter Property="PanelWidth" Value="70"/>
        <Setter Property="NavigationButtonStyle" Value="{DynamicResource NavigationPanelToggleButtonStyle}"/>
        <Setter Property="ButtonStyle" Value="{DynamicResource NavigationPanelButtonStyle}"/>
        <Setter Property="IconsSize" Value="30"/>
    </Style>

    <Style x:Key="SlidePanelStyle"
           TargetType="controls:SlidingPanel">
        <Setter Property="Background" Value="{DynamicResource Surface3Brush}"/>
        <Setter Property="BorderBrush" Value="{DynamicResource Surface1Brush}"/>
        <Setter Property="BorderThickness" Value="0 0 1 0"/>
        <Setter Property="Width" Value="300"/>
    </Style>
    
    <!-- Buttons -->
    <Style x:Key="NavigationPanelToggleButtonStyle" 
           TargetType="ToggleButton" 
           BasedOn="{StaticResource MaterialDesignActionDarkToggleButton}">

        <Setter Property="Background" Value="{DynamicResource TransparentBrush}"/>
        <Setter Property="Foreground" Value="{DynamicResource PrimaryBrush}"/>
        <Setter Property="Width" Value="40"/>
        <Setter Property="Height" Value="40"/>
        <Setter Property="Margin" Value="10"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ToggleButton">
                    <Border Background="{TemplateBinding Background}"
                            CornerRadius="{DynamicResource CornerRadiusLarge}"
                            Padding="{DynamicResource ThicknessNormal}">
                        <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Border>
                    <ControlTemplate.Triggers>
                        <!-- Hover -->
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter Property="RenderTransform">
                                <Setter.Value>
                                    <ScaleTransform ScaleX="1.2" ScaleY="1.2"/>
                                </Setter.Value>
                            </Setter>
                            <Setter Property="RenderTransformOrigin" Value="0.5, 0.5"/>
                        </Trigger>
                        
                        <!-- IsChecked -->
                        <Trigger Property="IsChecked" Value="True">
                            <Setter Property="Background" Value="{DynamicResource PrimaryOverlayBrush}"/>
                            <Setter Property="Foreground" Value="{DynamicResource PrimaryBrush}"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>

    </Style>

    <Style x:Key="NavigationPanelButtonStyle"
           TargetType="Button"
           BasedOn="{StaticResource IconButtonBase}">

        <Setter Property="Height" Value="30"/>
        <Setter Property="Width" Value="30"/>
        <Setter Property="Margin" Value="0 25 0 0"/>

    </Style>

    <!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->
    <!--                                VIEW AREA                                       -->
    <!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->

</ResourceDictionary>